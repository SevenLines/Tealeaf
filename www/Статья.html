<!DOCTYPE html>
<html>
<!-- HEADER STARTS HERE -->
<head>
<base href="http://localhost/tealeaf-01/www/" />

<link rel="stylesheet" type="text/css" href="styles/main.css">
<link rel="stylesheet" type="text/css" href="styles/menu.css">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<script type="text/javascript" src="scripts/jquery.min.js"></script>
<script type="text/javascript" src="scripts/main.js"></script>
<meta charset="utf-8">
<title>Статья</title>
</head>

<!-- HEADER ENDS HERE -->
<body>
<div id="admin" class="fixed">
	<div id="slider">
		 
	 		<a href = "http://localhost/tealeaf-01/index.php/login/logout" >выйти</a>
	 			 			<a href = "http://localhost/tealeaf-01/index.php/admin" >управление</a>
	 			 			 			 					<a href = "http://localhost/tealeaf-01/index.php/admin/preview/2">категория</a>
 					 			 			 				 				<a href = "http://localhost/tealeaf-01/index.php/admin/preview/2/12">статья</a>
	 				 		 			 </div>
</div><div class="wrapper">
	
<!-- MENU STARTS HERE -->
<div class="nav">

<div class="mail"> 
	<script>"".contact('abc', 'htam.mliamm', 'mail.ru');</script>
	<span class='admin'><a href="">
		
	</a></span></div>
<ul>	
	<li>
		<a href="http://localhost/tealeaf-01/index.php"  > &#x25B2;</a> 
	</li>
	   		<li>
   			<a href="http://localhost/tealeaf-01/index.php/page/4" >
   				&#x25B2;&#x25B2;   			</a>
						<ul>
				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/4/13">
			   				&nbsp;&#9632; Литература			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/4/9">
			   				Вопросы к первому коллоквиуму			   			</a>
   					</li>
   							</ul>
			   		</li>
	   		<li>
   			<a href="http://localhost/tealeaf-01/index.php/page/2" class="active">
   				&#9632;&#9632;&#9632;   			</a>
						<ul>
				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/10">
			   				 &nbsp;&#9679; Лабораторные			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/2">
			   				Работа с консолью			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/3">
			   				Коллекции			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/4">
			   				Работа с файлами			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/5">
			   				Формы			   			</a>
   					</li>
   				   					<li>
   						<a href="http://localhost/tealeaf-01/index.php/page/2/11">
			   				Регулярные выражения. Часть 1			   			</a>
   					</li>
   							</ul>
			   		</li>
		
</ul>
</div>
<div class="clear"></div>
<!-- MENU ENDS HERE -->

<!-- BREADCRUMBS -->
<div class="breadcrumbs"> <a href=http://localhost/tealeaf-01/index.php/admin/category/2>&lt;&lt; Практикум по C#</a></div>
<!-- BREADCRUMBS END -->

<div class="content">
	
<!-- TITLE GOES HERE, IF ANY -->
<h1>«Регулярные выражения. Часть 2» id: 12</h1>
<!-- DESCRIPTION GOES HERE, IF ANY -->
<div class="description" ?>
</div>
<!-- DESCRIPTION ENDS HERE -->
<hr>
<!-- TITLE ENDS HERE-->



<!-- CONTENT STARTS HERE -->
<link rel='stylesheet'  href="styles/admin.css" type="text/css">
<script type="text/javascript" src="ckeditor/ckeditor.js"></script>
<script type="text/javascript">
$(function() {
	submit_only_changed($('.article form')[0]);
});
</script>
<div class='article'>
<div style="float:right;clear:none;font-size: 0.8em">обновлялось: 00:50 - 22/10/2013 </div>
<form action="http://localhost/tealeaf-01/index.php/admin/article/update/12" method="post" accept-charset="utf-8"><label for="category_id">категория</label><select name="category_id">
<option value="0">без категории</option>
<option value="11">Главные страницы</option>
<option value="4">Математическая логика</option>
<option value="2" selected="selected">Практикум по C#</option>
</select><table >
	<tr>
		<td width="33%">
			<label for="title">заголовок</label><input type="text" name="title" value="Регулярные выражения. Часть 2"  />		</td>
		<td width="33%">
			<label for="title_page">заголовок во вкладке браузера</label><input type="text" name="title_page" value="Регулярные выражения. Часть 2"  />		</td>
		<td width="33%">	
			<label for="title_menu">заголовок в меню</label><input type="text" name="title_menu" value="Регулярные выражения. Часть 2"  />		</td>
	</tr>
</table>

<input type="hidden" name="pos" value="3484" />
<label>текст статьи</label>
<textarea name="text" style="">
<h2>Группы</h2>
Когда простого набора строк в качестве результата не достаточно, на помощь приходит возможность регулярных выражений возвращать результат разбитый на подгруппы. Чтобы разбить шаблон на группы используется обыкновенный скобки <b>(</b>, <b>)</b>.
<p>Следующее выражение можно использовать для поиска простых адресов e-mail.

<div class="regex">
<dt>\w+@\w+.\w+</dt>
<dd>
Очевидно, следующие строки будут удовлетворять регулярному выражения:<br>
Мой почтовый адрес <b>bird@yandex.ru</b>
</dd>
</div>
Теперь добавим скобки вокруг каждого <b>\w+</b>. 
<div class="regex">
<dt>(\w+)@(\w+).(\w+)</dt>
<dd>
Таже строка:<br>
Мой почтовый адрес <b>bird@yandex.ru</b><br>
</dd>
</div>
Вроде бы ничего и не изменилось, однако теперь мы можем работать с подгруппами. В <b>Visual C#</b> для этого у каждого объекта типа <b>Match</b> есть свойство <b>Groups</b>, которое представляет массив подгрупп в выражении. Т.е например:
<pre class="brush:csharp">
/*
 Создадим регулярное выражения
 для поиска простых адресов e-mail:
 (\w+)@(\w+).(\w+)

 '@' перед двойной кавычкой используется 
 для экранирования обратного слеша \,
 
 без символа @ пришлось бы писать:
 (\\w+)@(\\w+).(\\w+)
*/
Regex regEx = new Regex (@"(\w+)@(\w+).(\w+)");

/*
 Функция Match возвращает первый результат 
 удовлетворяющий регулярному выражению
*/
Match m = regEx.Match("Мой почтовый адрес bird@yandex.ru");

Console.WriteLine( m.Groups[0] ); // выведет на экран bird@yandex.ru"
Console.WriteLine( m.Groups[1] ); // выведет на экран bird
Console.WriteLine( m.Groups[2] ); // выведет на экран yandex
Console.WriteLine( m.Groups[3] ); // выведет на экран ru
</pre>
Нумерация групп идет с <b>1</b>, нулевой группе соответствует все регулярное выражение.<p>
Группы могут быть вложенными, например:
<div class="regex">
<dt>(\w+)@((\w+).(\w+))</dt>
<dd>
Мой почтовый адрес <b>bird@yandex.ru</b><br>
</dd>
</div>
Результат все тот же, но группы теперь будут иметь следующие значения
<ol>
<li>bird</li>
<li>yandex.ru</li>
<li>yandex</li>
<li>ru</li>
</ol>
Видно, что <b>вторая</b> группа содержит результат <b>третьей</b> и <b>четвертой</b> вместе, плюс еще точку между ними. Нумерация групп идет в соответствии с порядком открывающих скобок.
<p>
Вообще говоря, обращаться к группам мы можем и внутри регулярного выражения, для этого используются обратные ссылки. Обратная ссылка имеет вид обратного слеша с следующим за ним номером группы: <b>\1, \2, \3 .. \9</b>. <p>
Зачем кому-то могут понадобиться обратные ссылки? Ну например если ему надо будет искать строки с повторяющимися элементами. Например:
<div class="regex">
<dt>(\w+)\1</dt>
<dd>
Мой сосед <b>тото</b>ро, не, не, о<b>хохо</b>!<br>
</dd>
</div>
<b>\1</b> - означает что мы хотим, чтобы стоящее в скобках повторилось еще один раз.
Таки образом интерпретатор регэкспов находит строку <b>'то'</b>, видит что за ней снова идет точно такая строчка <b>'то'</b>, и отмечает результат как удовлетворяющий регулярному выражению. Продолжает поиск, пока не дойдет до <b>'хо'</b>. Строка <b>не, не,</b> не удовлетворяет регулярному выражению так как в этой строке присутствуют запятые и пробелы, которые не входят в класс <b>\w</b>
<p>Также группировку приходится использовать если необходимо найти в тексте строки с повторяющимися составными подстроками. Например чтобы найти в тексте простые предложения без знаков препинания можно использовать следующее выражение:
<div class="regex">
<dt>(\w+\s+)+</dt>
<dd>
<b>Мой сосед Тоторо</b>. <i>А я люблю желуди</i>.
</dd>
</div>


</textarea>

<script type="text/javascript" >
	var textarea = $("textarea")[0];
	var pos = $("input[name=pos]")[0];
	textarea.addEventListener('change', function() {
		pos.value = getCaretPosition(this);
		return false;
	});
	setCaretPosition(textarea, pos.value); 
</script>
<!--
<script type="text/javascript" src="scripts/tinymce/tinymce.min.js"></script>
<script type="text/javascript">
tinymce.init({
    selector: "textarea",
    body_class: "wrapper, content",
    content_css: "styles/main.css, styles/editor.css",
    plugins: "code",
    document_base_url: "http://localhost/tealeaf-01/www", 
 });
</script>
-->

<input type="submit" name="submit" value="сохранить"  /></form>
</div>

<!-- CONTENT ENDS HERE -->

</div>

<!-- FOOTER START HERE -->

<div class="footer">
</div><!-- FOOTER ENDS HERE -->
</div>
</body>
</html>